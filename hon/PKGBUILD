# Contributor: Slash <demodevil5 [at] yahoo [dot] com>

pkgname=hon
pkgver=0.1.34.1
pkgrel=1
pkgdesc="Heroes of Newerth is a Real Time Strategy game heavily influcenced by DotA"
arch=('i686' 'x86_64')
url="http://www.heroesofnewerth.com/"
license=('custom:HoN')
depends=('curl' 'fmod' 'libgl' 'libpng' 'libxml2' 'mesa' 'speex')
makedepends=('unzip')
install='hon.install'
source=('hon.desktop' 'hon.launcher' "HoNClient-${pkgver}.sh")
md5sums=('d3fa56f17b5eb21d4da01e8d628fbc97'
         '4e104d5954ec711c0b89e9f968917758'
         'c67123eda35dc289887466d745cbebfe')

build() {
    # Extract Files
    unzip $srcdir/HoNClient-${pkgver}.sh

    # Create Destination Directory
    install -d $pkgdir/opt/hon/

    # Install Game & Data Files
    cp -r $srcdir/data/* \
        $pkgdir/opt/hon/

    # Install License (HoN TOS)
    install -D -m 0644 $srcdir/data/tos.txt \
        $pkgdir/usr/share/licenses/$pkgname/hon_tos.txt

    # Install License (S2 TOS)
    install -D -m 0644 $srcdir/data/license.txt \
        $pkgdir/usr/share/licenses/$pkgname/hon_license.txt

    # Install Desktop Shortcut
    install -D -m 0644 $srcdir/hon.desktop \
        $pkgdir/usr/share/applications/hon.desktop

    # Install Client Launcher
    install -D -m 0755 $srcdir/hon.launcher \
        $pkgdir/usr/bin/hon
}

